(this["webpackJsonphlms-frontend"]=this["webpackJsonphlms-frontend"]||[]).push([[0],{213:function(e,t,r){},258:function(e,t,r){},259:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(49),s=r.n(c),i=(r(213),r(82)),o=r(83),l=r(172),j=r(170),d=r(154),b=r(28),h=r(40),u=Object(h.a)({}),x=r(156),p=r(63);function m(){return!!localStorage.getItem("token")}function O(){var e=localStorage.getItem("token");return Object(p.a)(e)._id}function f(e){var t=localStorage.getItem("token"),r=[Object(p.a)(t).role];return e.filter((function(e){var t,n=e.permission;return!n||(t=n,!Array.isArray(t)||!t.length||Object(x.intersection)(n,r).length)}))}var g="super_admin",v="admin",S="moderater",w="user",y=r(11),C=r.n(y),z=r(20),k=r(5),M=r(269),T=r(263),R=r(270),E=r(268),A=r(266),I=r(174),N=r(264),_=r(2);var P=function(e){var t=Object(I.b)(),r=t.colorMode;return t.toggleColorMode,Object(_.jsxs)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"5px",mb:"10px",boxShadow:"xl",bg:"".concat(e.colour,"light"===r?".400":".900"),children:[Object(_.jsx)(N.a,{color:"white",fontSize:"6xl",ml:"10px",children:e.currentvalue}),Object(_.jsx)(N.a,{color:"white",fontSize:"2xl",ml:"10px",children:e.Heading})]})},F=r(265),U=r(302),D=r(267);var W=function(e){for(var t=[],r=0;r<e.path.length;r++)t.push(Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(F.a,{variant:"outline",colorScheme:"cyan",children:e.path[r]})}));return Object(_.jsxs)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",boxShadow:"xl",children:[Object(_.jsxs)(U.b,{direction:{base:"column",md:"row"},mb:"10px",children:[Object(_.jsx)(F.a,{variant:"solid",colorScheme:"purple",fontSize:"20px",children:e.place}),function(e){var t="";return"completed"===e?t="green":"not-completed"===e?t="orange":"cancelled"===e&&(t="red"),Object(_.jsx)(F.a,{variant:"subtle",h:"20px",colorScheme:t,children:e})}(e.state)]}),Object(_.jsxs)(A.a,{columns:2,spacing:"1px",children:[Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"xs",children:" Schedule By,"}),Object(_.jsxs)(N.a,{fontSize:"xs",children:[Object(_.jsx)(D.a,{size:"xs",name:"user",src:"./user.png",mr:"5px"}),e.user]})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"xs",children:"Fair"}),Object(_.jsx)(N.a,{fontSize:"xl",children:e.fair})]})]}),Object(_.jsx)(E.a,{}),Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Path"}),Object(_.jsx)(U.b,{direction:{base:"column",md:"row"},children:t}),Object(_.jsxs)(A.a,{columns:2,spacing:"1px",children:[Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Travel Method"}),Object(_.jsx)(F.a,{variant:"outline",colorScheme:"orange",children:e.travelmethod})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Date"}),Object(_.jsx)(F.a,{variant:"outline",colorScheme:"blue",children:e.date})]})]})]})},B=r(13),L=r(32),H={MAPBOX_ACCESSTOKEN:"pk.eyJ1IjoiY2hhbmRpbWEwNjk2IiwiYSI6ImNranpuc3J5ZDA5ZDgyb21uNWx2aDhncjkifQ.iPwQZj5TmOdaHWF-1zCw_g",apiUrl:""},V=function(e){var t=e.place_locations,r=e.place_names;console.log(r);var c=a.a.useState({latitude:6.795165,longitude:79.900616,zoom:7.5,pitch:40,bearing:0}),s=Object(k.a)(c,2),i=s[0],o=s[1];return Object(_.jsx)(T.a,{boxShadow:"xl",children:Object(_.jsxs)(L.e,Object(B.a)(Object(B.a)({mapboxApiAccessToken:H.MAPBOX_ACCESSTOKEN,width:"100%",height:400,latitude:i.latitude,longitude:i.longitude,zoom:i.zoom,onViewportChange:function(e){return o(e)}},i),{},{children:[t.map((function(e,t){return Object(n.createElement)(L.b,Object(B.a)(Object(B.a)({},e),{},{key:t}),Object(_.jsx)("svg",{height:20,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#d00",stroke:"none",transform:"translate(".concat(-10,"px,").concat(-20,"px)")},children:Object(_.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})}),Object(_.jsx)(N.a,{color:"tomato",children:"".concat(r[t].name)}))})),Object(_.jsx)("div",{style:{position:"absolute",top:0,left:0,padding:"10px"},children:Object(_.jsx)(L.a,{})}),Object(_.jsx)("div",{style:{position:"absolute",top:72,left:0,padding:"10px"},children:Object(_.jsx)(L.c,{})}),Object(_.jsx)("div",{style:{position:"absolute",bottom:36,left:0,padding:"10px"},children:Object(_.jsx)(L.d,{})})]}))})};function q(){var e=localStorage.getItem("token");return e?{Authorization:"Authorization",token:"Bearer ".concat(e)}:{}}var J=function(e){var t=new Headers,r=q(),n=r.Authorization,a=r.token;t.append(n,a);var c={method:"GET",headers:t,redirect:"follow"};return fetch("".concat(H.apiUrl,"/dashboard/admin"),c).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{dashboardValues:e.dashboardValues,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting data",success:!1}}))};var G=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=(s[0],s[1]),o=Object(n.useState)([]),l=Object(k.a)(o,2),j=l[0],d=l[1],b=Object(n.useState)([]),h=Object(k.a)(b,2),u=(h[0],h[1]),x=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J().then((function(e){e.success?(a(e.dashboardValues),d(e.dashboardValues.place_locations),u(e.dashboardValues.place_names)):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"100px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"30px",children:[Object(_.jsx)(R.a,{as:"h2",size:"2xl",ml:"20px",mb:"20px",children:"Dashboard"}),Object(_.jsx)(R.a,{as:"h4",size:"md",ml:"20px",mb:"30px",children:"Sunrise - Hotel Management System"}),Object(_.jsx)(E.a,{}),Object(_.jsxs)(A.a,{minChildWidth:"120px",spacing:"40px",mb:"10px",mt:"20px",children:[Object(_.jsx)(P,{Heading:"Assistants",maxvalue:"100",currentvalue:r.users_count,colour:"red"}),Object(_.jsx)(P,{Heading:"Tourists Total",maxvalue:"5000",currentvalue:r.tourist_count_total,colour:"orange"}),Object(_.jsx)(P,{Heading:"Tourists In",maxvalue:"5000",currentvalue:r.tourist_count_in,colour:"green"}),Object(_.jsx)(P,{Heading:"Visiting Places",maxvalue:"100",currentvalue:r.place_count,colour:"yellow"}),Object(_.jsx)(P,{Heading:"Schedules",maxvalue:"100",currentvalue:r.schedules_count_total,colour:"blue"})]}),Object(_.jsx)(E.a,{}),Object(_.jsx)(R.a,{as:"h2",size:"lg",ml:"20px",mb:"20px",mt:"30px",children:"Schedules"}),Object(_.jsx)(T.a,{children:Object(_.jsxs)(A.a,{minChildWidth:"200px",spacing:"20px",mb:"10px",mt:"20px",children:[Object(_.jsx)(W,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]}),Object(_.jsx)(W,{place:"Jungle Beach",user:"Hirumal kumara",date:"2020/12/20",travelmethod:"bus",fair:"Rs. 300.00",state:"cancelled",path:["Mirissa","Galle fort","Jungle beach"]}),Object(_.jsx)(W,{place:"Galle fort",user:"charith silva",date:"2020/11/21",travelmethod:"bus",fair:"Rs. 450.00",state:"not-completed",path:["Mirissa","Galle fort","Jungle beach"]}),Object(_.jsx)(W,{place:"Rumassala",user:"Sadaruwan kumarasinghe",date:"2020/11/02",travelmethod:"bus",fair:"Rs. 250.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})]})}),Object(_.jsx)(E.a,{}),Object(_.jsx)(R.a,{as:"h2",size:"lg",ml:"20px",mb:"20px",mt:"30px",children:"Visiting Places"}),Object(_.jsx)(T.a,{children:Object(_.jsx)(V,{place_locations:j,place_names:r.place_names})})]})})})},K=r(171),Z=r(19),Y=r(277),X=r(158),$=r(272),Q=r(299),ee=r(278),te=r(9),re=r(303),ne=r(65),ae=r(271),ce=r(273),se=r(274),ie=r(300),oe=r(301),le=function(){var e=new Headers,t=q(),r=t.Authorization,n=t.token;e.append(r,n);var a={method:"GET",headers:e,redirect:"follow"};return fetch("".concat(H.apiUrl,"/places"),a).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{visitingPlaces:e.visitingPlaces,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting places",success:!1}}))},je=function(e){var t=new Headers;t.append("Content-Type","application/json");var r=q(),n=r.Authorization,a=r.token;t.append(n,a);var c={method:"POST",headers:t,body:JSON.stringify(e),redirect:"follow"};return fetch("".concat(H.apiUrl,"/places/search"),c).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{visitingPlaces:e.visitingPlaces,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting places",success:!1}}))},de=function(e){var t=new Headers,r=q(),n=r.Authorization,a=r.token;t.append(n,a);var c={method:"DELETE",headers:t,redirect:"follow"};fetch("".concat(H.apiUrl,"/places/").concat(e),c).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{visitingPlace:e.visitingPlace,success:!0};var t=new Error("Error "+e.status);throw t.response=e,t})).catch((function(e){return{status:"Error while deleting place",success:!1}}))},be=function(e){var t=a.a.useState([]),r=Object(k.a)(t,2),c=r[0],s=r[1],i=a.a.useState({latitude:7.329934409204016,longitude:80.81450352071882,zoom:7,pitch:40,bearing:0}),o=Object(k.a)(i,2),l=o[0],j=o[1];return Object(_.jsxs)(L.e,Object(B.a)(Object(B.a)({mapboxApiAccessToken:H.MAPBOX_ACCESSTOKEN,width:"100%",height:400,latitude:l.latitude,longitude:l.longitude,zoom:l.zoom,onViewportChange:function(e){return j(e)}},l),{},{onClick:function(t){var r=Object(k.a)(t.lngLat,2),n=r[0],a=r[1];e.onClickonMap(n,a),s((function(e){return[{longitude:n,latitude:a}]}))},children:[c.length?c.map((function(e,t){return Object(n.createElement)(L.b,Object(B.a)(Object(B.a)({},e),{},{key:t}),Object(_.jsx)("svg",{height:20,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#d00",stroke:"none",transform:"translate(".concat(-10,"px,").concat(-20,"px)")},children:Object(_.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})}),"".concat(e.longitude,", ").concat(e.latitude))})):null,Object(_.jsx)("div",{style:{position:"absolute",top:0,left:0,padding:"10px"},children:Object(_.jsx)(L.a,{})}),Object(_.jsx)("div",{style:{position:"absolute",top:72,left:0,padding:"10px"},children:Object(_.jsx)(L.c,{})}),Object(_.jsx)("div",{style:{position:"absolute",bottom:36,left:0,padding:"10px"},children:Object(_.jsx)(L.d,{})})]}))};function he(e,t,r,n){var a=t.validation,c=t.errorMessage;/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)?(a[n]=!1,c[n]="",r({validation:a,errorMessage:c})):(a[n]=!0,c[n]="You have entered invalid email address",r({validation:a,errorMessage:c}))}function ue(e,t,r,n,a){var c=t.validation,s=t.errorMessage;""!==e?(c[n]=!1,s[n]="",r({validation:c,errorMessage:s})):(c[n]=!0,s[n]="Enter "+a,r({validation:c,errorMessage:s}))}function xe(e,t,r,n,a){var c=t.validation,s=t.errorMessage;Number(e)?(c[n]=!1,s[n]="",r({validation:c,errorMessage:s})):(c[n]=!0,s[n]="Enter numeric value to "+a,r({validation:c,errorMessage:s}))}var pe=function(e){var t=Object(n.useState)(e.data),r=Object(k.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(!1),i=Object(k.a)(s,2),o=i[0],l=(i[1],Object(n.useState)(!1)),j=Object(k.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)("1"),u=Object(k.a)(h,2),x=u[0],p=(u[1],Object(I.b)()),m=p.colorMode,O=(p.toggleColorMode,Object(n.useState)(a.distance)),f=Object(k.a)(O,2),g=f[0],v=f[1],S=Object(n.useState)(a.timeToReach),w=Object(k.a)(S,2),y=w[0],E=w[1],A=Object(n.useState)([]),P=Object(k.a)(A,2),D=P[0],W=P[1],L=Object(n.useState)({validation:[!1,!1,!1,!1,!1,!1],errorMessage:["","","","","",""]}),H=Object(k.a)(L,2),V=H[0],q=H[1],J=function(e){if(D.includes(e)){var t=D.indexOf(e);t>-1&&D.splice(t,1),W(r=D)}else{var r=D.concat(e);W(r)}},G=function(){var t=Object(z.a)(C.a.mark((function t(r){var n,c,s,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),ue(a.placeName,V,q,0,"place name"),ue(a.description,V,q,1,"description"),xe(a.latitude,V,q,2,"latitude"),xe(a.longitude,V,q,3,"longitude"),ue(g,V,q,4,"distance"),function(e,t,r,n,a){var c=t.validation,s=t.errorMessage;e.length>0?(c[n]=!1,s[n]="",r({validation:c,errorMessage:s})):(c[n]=!0,s[n]="Select "+a,r({validation:c,errorMessage:s}))}(D,V,q,5,"method"),ue(y,V,q,6,"time to reach"),!(V.validation[0]||V.validation[1]||V.validation[2]||V.validation[3]||V.validation[4]||V.validation[5])){(n=new Headers).append("Content-Type","application/json"),console.log(a),console.log(x),c={name:a.placeName,description:a.description,location:{coordinates:[a.longitude,a.latitude]},distance:g,method:D,timeToReach:y,images:[]};try{s=JSON.stringify(c),i={method:"PUT",headers:n,body:s,redirect:"follow"},fetch("".concat("","/places/").concat(a.id),i).then((function(e){return e.text()})).then((function(t){return a.fetch(),void e.close()})).catch((function(e){return console.log("error",e)}))}catch(o){console.error(o)}finally{console.log("We do cleanup here")}}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(e){var t=e.target.value,r=e.target.name;"placeName"===r?ue(t,V,q,0,"place name"):"description"===r?ue(t,V,q,1,"description"):"latitude"===r?xe(t,V,q,2,"latitude"):"longitude"===r?xe(t,V,q,3,"longitude"):"distance"===r?ue(t,V,q,4,"distance"):"timeToReach"===r&&ue(t,V,q,5,"time to reach"),c(Object(B.a)(Object(B.a)({},a),{},Object(te.a)({},e.target.name,t)))},Y=function(e,t){c(Object(B.a)(Object(B.a)({},a),{},{latitude:t,longitude:e})),console.log(t,e)};return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[o?Object(_.jsxs)(re.a,{status:"error",mb:"20px",children:[Object(_.jsx)(re.c,{}),"Error"]}):null,Object(_.jsxs)("form",{action:"submit",children:[d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(R.a,{as:"h4",size:"lg",textAlign:"center",pb:"20px",pt:"5px",children:"Edit the place"}),Object(_.jsx)(N.a,{children:"Name of the place"}),Object(_.jsxs)(ne.a,{isRequired:!0,mb:"10px",children:[Object(_.jsx)(ae.a,{type:"text",value:a.placeName,name:"placeName",placeholder:"Name of the place","aria-label":"Name",onChange:function(e){return Z(e)},isInvalid:V.validation[0],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:V.errorMessage[0]})]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(R.a,{as:"h4",size:"lg",textAlign:"center",pb:"20px",pt:"5px",children:a.placeName}),Object(_.jsx)(T.a,{shadow:"xl",mb:"20px",children:Object(_.jsx)($.a,{src:a.imageUrl,alt:"photo",rounded:"md"})})]}),Object(_.jsxs)(U.b,{spacing:3,children:[d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{children:"Description"}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ce.a,{type:"text",name:"description",value:a.description,placeholder:"Description","aria-label":"Description",onChange:function(e){return Z(e)},isInvalid:V.validation[1],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:V.errorMessage[1]})]})]}):Object(_.jsxs)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",bg:"light"===m?"teal.50":"teal.700",children:[Object(_.jsx)(N.a,{fontSize:"3xl",children:"Description"}),Object(_.jsx)(N.a,{children:a.description})]}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{children:"Location"}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ae.a,{type:"text",name:"latitude",value:a.latitude,placeholder:"Latitude","aria-label":"Latitude",onChange:function(e){return Z(e)},isInvalid:V.validation[2],errorBorderColor:"crimson"}),Object(_.jsx)(ae.a,{type:"text",name:"longitude",value:a.longitude,placeholder:"Longitude","aria-label":"Longitude",onChange:function(e){return Z(e)},isInvalid:V.validation[3],errorBorderColor:"crimson"})]}),Object(_.jsxs)(ne.b,{color:"crimson",children:[V.errorMessage[2]," ",V.errorMessage[3]]})]}),Object(_.jsx)(be,{onClickonMap:Y})]}):Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",bg:"light"===m?"teal.50":"teal.700",children:Object(_.jsx)(be,{onClickonMap:Y})}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{children:"Distance (Km)"}),Object(_.jsx)(ne.a,{isRequired:!0,children:Object(_.jsxs)(ie.c,{step:.1,defaultValue:0,min:.1,max:30,precision:3,isInvalid:V.validation[4],onChange:function(e){return v(e)},value:g,errorBorderColor:"crimson",children:[Object(_.jsx)(ie.d,{placeholder:"Distance",name:"distance"}),Object(_.jsxs)(ie.e,{children:[Object(_.jsx)(ie.b,{}),Object(_.jsx)(ie.a,{})]})]})}),Object(_.jsx)(ne.b,{color:"crimson",children:V.errorMessage[4]})]}):Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",bg:"light"===m?"teal.50":"teal.700",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Distance",Object(_.jsxs)(F.a,{ml:"1",fontSize:"0.8em",colorScheme:"green",variant:"outline",children:[g," km"]})]})}),d?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(U.b,{direction:"row",children:[Object(_.jsx)(oe.a,{onChange:function(e){return J("Bus")},children:"Bus"}),Object(_.jsx)(oe.a,{onChange:function(e){return J("Train")},children:"Train"}),Object(_.jsx)(oe.a,{onChange:function(e){return J("Car")},children:"Car"}),Object(_.jsx)(oe.a,{onChange:function(e){return J("Threewheeler")},children:"Threewheeler"}),Object(_.jsx)(oe.a,{onChange:function(e){return J("Foot")},children:"Foot"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:V.errorMessage[5]})]})}):Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",bg:"light"===m?"teal.50":"teal.700",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Travelling Method",a.methods.map((function(e,t){return Object(_.jsx)(F.a,{m:"3px",borderRadius:"full",px:"2",colorScheme:"orange",children:e})}))]})}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{children:"Time to reach (min)"}),Object(_.jsx)(ne.a,{isRequired:!0,children:Object(_.jsxs)(ie.c,{step:1,defaultValue:0,min:1,max:180,isInvalid:V.validation[6],errorBorderColor:"crimson",value:y,onChange:function(e){return E(e)},children:[Object(_.jsx)(ie.d,{placeholder:"Time To Reach",name:"timeToReach"}),Object(_.jsxs)(ie.e,{children:[Object(_.jsx)(ie.b,{}),Object(_.jsx)(ie.a,{})]}),Object(_.jsx)(ne.b,{color:"crimson",children:V.errorMessage[6]})]})})]}):Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",bg:"light"===m?"teal.50":"teal.700",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Time to Reach",Object(_.jsxs)(F.a,{ml:"1",fontSize:"0.8em",colorScheme:"red",variant:"outline",children:[y," min"]})]})}),d?Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",onClick:function(e){return G(e)},children:"Update the place"}):null,d?null:Object(_.jsx)(M.a,{children:Object(_.jsxs)(U.a,{children:[Object(_.jsx)(K.a,{colorScheme:"teal",onClick:function(){return b(!0)},children:"Edit the place"}),Object(_.jsx)(K.a,{colorScheme:"red",onClick:function(){return de(a._id)},children:"Delete the place"})]})})]})]})]})};function me(e){var t=Object(Y.a)(),r=t.isOpen,n=t.onOpen,a=t.onClose;return Object(_.jsx)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",children:Object(_.jsxs)(X.a,{h:"auto",templateColumns:"repeat(8, 1fr)",templateRows:"repeat(3, 1fr)",gap:4,children:[Object(_.jsx)(X.b,{colSpan:{base:8,md:2},rowSpan:{base:1,md:3},pt:"12px",children:Object(_.jsx)(M.a,{children:Object(_.jsx)($.a,{src:e.imageUrl,alt:"place name"})})}),Object(_.jsx)(X.b,{colSpan:{base:8,md:5},rowSpan:{base:1,md:3},children:Object(_.jsxs)(T.a,{p:"6",children:[Object(_.jsx)(T.a,{d:"flex",alignItems:"baseline",children:Object(_.jsx)(F.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:"New"})}),Object(_.jsx)(T.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:Object(_.jsx)(N.a,{fontSize:"3xl",children:e.placeName})}),Object(_.jsxs)(T.a,{children:[e.distance," km from the hotel",Object(_.jsx)(T.a,{as:"span",color:"gray.600",fontSize:"sm"})]}),Object(_.jsxs)(T.a,{children:[e.timeToReach," min journey",Object(_.jsx)(T.a,{as:"span",color:"gray.600",fontSize:"sm"})]}),Object(_.jsxs)(T.a,{d:"flex",mt:"2",alignItems:"center",children:[Object(_.jsx)(N.a,{fontSize:"sm",children:"Travel by :"}),e.methods.map((function(e,t){return Object(_.jsx)(F.a,{m:"3px",borderRadius:"full",px:"2",colorScheme:"orange",children:e})}))]})]})}),Object(_.jsxs)(X.b,{colSpan:{base:8,md:1},rowSpan:{base:1,md:3},pt:"50px",children:[Object(_.jsx)(K.a,{rightIcon:Object(_.jsx)(ee.a,{}),colorScheme:"teal",variant:"outline",onClick:n,children:"Details"}),Object(_.jsxs)(Q.a,{isOpen:r,onClose:a,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{top:"100px",children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(pe,{data:e,close:a})]})]})]})]})})}me.defaultProps={role:"user"};var Oe=me,fe=r(282),ge=r(280),ve=r(281);var Se=function(e){return Object(_.jsx)(T.a,{w:"500px",mb:"20px",children:Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.b,{children:Object(_.jsx)(ve.a,{colorScheme:"teal","aria-label":"Search database",icon:Object(_.jsx)(fe.a,{}),onClick:e.onClick})}),Object(_.jsx)(ae.a,{placeholder:e.text,name:"search",value:e.value,onChange:e.onChange})]})})},we=r(26),ye=r(283);var Ce=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=(s[0],s[1]),o=Object(n.useState)(""),l=Object(k.a)(o,2),j=l[0],d=l[1],b=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le().then((function(e){e.success?a(e.visitingPlaces):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(z.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(t).then((function(e){e.success?a(e.visitingPlaces):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K.a,{position:"fixed",bottom:"50px",right:"50px",zIndex:"1000",leftIcon:Object(_.jsx)(ye.a,{}),colorScheme:"teal",children:Object(_.jsx)(we.a,{as:Z.ReactRouterLink,to:"/addvisitingplace",children:"Add Visiting Place"})}),Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"300px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"10px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Visiting Places"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(Se,{text:"Search visiting place...",value:j,onChange:function(e){return function(e){var t=e.target.value;d(t),h({similarTo:t})}(e)}})}),0===r.length?Object(_.jsx)(T.a,{p:"15px",bg:"red.200",borderRadius:"lg",children:Object(_.jsx)(N.a,{fontSize:"sm",color:"yellow.800",children:"No visiting places"})}):null,r.map((function(e,t){return Object(_.jsx)(Oe,{id:e._id,placeName:e.name,description:e.description,latitude:e.location.coordinates[0],longitude:e.location.coordinates[1],distance:e.distance,methods:e.travellingMethods,timeToReach:e.timeToReach,imageUrl:"./1.jpg",fetch:b,role:"admin"})}))]})})]})},ze=r(285),ke=r(284);var Me=function(e){return Object(_.jsx)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"5px",mb:"10px",children:Object(_.jsxs)(ze.a,{size:"sm",children:[Object(_.jsx)(ze.e,{children:Object(_.jsxs)(ze.f,{children:[Object(_.jsx)(ze.d,{children:"Profile photo"}),Object(_.jsx)(ze.d,{children:"Name"}),Object(_.jsx)(ze.d,{children:"Reviews"}),Object(_.jsx)(ze.d,{children:"State"}),Object(_.jsx)(ze.d,{children:"Restrict the user"})]})}),Object(_.jsx)(ze.b,{children:e.tourists.map((function(e,t){var r;ze.f,ze.c,D.a,ze.c,e.firstname,e.lastname,ze.c,r=2,T.a,Array(5).fill("").map((function(e,t){return Object(_.jsx)(ke.a,{color:t<r?"teal.500":"gray.300"},t)})),T.a,ze.c,F.a,ze.c,K.a}))})]})})},Te=function(){var e=new Headers,t=q(),r=t.Authorization,n=t.token;e.append(r,n);var a={method:"GET",headers:e,redirect:"follow"};return fetch("".concat(H.apiUrl,"/tourists"),a).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{tourists:e.tourists,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting tourists",success:!1}}))},Re=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=(s[0],s[1]),o=Object(n.useState)(""),l=Object(k.a)(o,2),j=(l[0],l[1],function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te().then((function(e){e.success?a(e.tourists):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){j()}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"300px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"10px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Tourists"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(Se,{text:"Search Tourists..."})}),Object(_.jsx)(Me,{tourists:r})]})})})};var Ee=function(e){var t=Object(n.useState)(e.data),r=Object(k.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(!1),i=Object(k.a)(s,2),o=i[0],l=(i[1],Object(n.useState)(!1)),j=Object(k.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)(!1),u=Object(k.a)(h,2),x=u[0],p=u[1],m=Object(n.useState)({validation:[!1,!1,!1],errorMessage:["","",""]}),O=Object(k.a)(m,2),f=O[0],g=O[1],v=function(){var t=Object(z.a)(C.a.mark((function t(r){var n,c,s,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),S()){(n=new Headers).append("Content-Type","application/json"),r.preventDefault(),console.log(a),c={firstname:a.firstname,lastname:a.lastname,email:a.email};try{s=JSON.stringify(c),i={method:"PUT",headers:n,body:s,redirect:"follow"},fetch("".concat("","/employees/").concat(a.id),i).then((function(e){return e.text()})).then((function(t){return a.fetch(),void e.close()})).catch((function(e){return console.log("error",e)}))}catch(o){console.error(o)}finally{console.log("We do cleanup here")}}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){return ue(a.firstname,f,g,0,"first name"),ue(a.lastname,f,g,1,"last name"),he(a.email,f,g,2),!(f.validation[0]||f.validation[1]||f.validation[2])},w=function(e){var t=e.target.value,r=e.target.name;"firstname"===r?ue(t,f,g,0,"first name"):"lastname"===r?ue(t,f,g,1,"last name"):"email"===r&&he(t,f,g,2),c(Object(B.a)(Object(B.a)({},a),{},Object(te.a)({},e.target.name,t)))},y=function(e){var t=e.onChange;e.src;return Object(_.jsxs)("label",{htmlFor:"photo-upload",className:"custom-file-upload fas",children:[Object(_.jsx)("div",{className:"img-wrap img-upload",children:Object(_.jsx)("img",{for:"photo-upload",src:"./profile.jpg",alt:"Profile"})}),Object(_.jsx)("input",{id:"photo-upload",type:"file",onChange:t})]})};return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[o?Object(_.jsxs)(re.a,{status:"error",mb:"20px",children:[Object(_.jsx)(re.c,{}),"Error"]}):null,Object(_.jsx)("form",{action:"submit",children:Object(_.jsxs)(U.b,{spacing:3,children:[Object(_.jsx)(M.a,{children:d?Object(_.jsx)(T.a,{w:"200px",h:"200px",mb:"20px",children:Object(_.jsx)(y,{})}):Object(_.jsx)(D.a,{size:"2xl",name:"Profile photo",src:"./user.png"})}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"First name"})}),Object(_.jsx)(ne.a,{isRequired:!0,children:Object(_.jsx)(ae.a,{type:"text",value:a.firstname,name:"firstname",placeholder:"First Name","aria-label":"Fisrt Name",isInvalid:f.validation[0],onChange:function(e){return w(e)},errorBorderColor:"crimson"})}),Object(_.jsx)(ne.b,{color:"crimson",children:f.errorMessage[0]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"First name"})}),Object(_.jsx)(N.a,{fontSize:"2xl",children:a.firstname})]}),Object(_.jsx)(E.a,{}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"Last name"})}),Object(_.jsx)(ne.a,{isRequired:!0,children:Object(_.jsx)(ae.a,{type:"text",value:a.lastname,name:"lastname",placeholder:"Last Name","aria-label":"Last Name",onChange:function(e){return w(e)},isInvalid:f.validation[1],errorBorderColor:"crimson"})}),Object(_.jsx)(ne.b,{color:"crimson",children:f.errorMessage[1]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"Last name"})}),Object(_.jsx)(N.a,{fontSize:"2xl",children:a.lastname})]}),Object(_.jsx)(E.a,{}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"email"})}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"email",value:a.email,name:"email",placeholder:"Email","aria-label":"Email",onChange:function(e){return w(e)},isInvalid:f.validation[2],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:f.errorMessage[2]})]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"Email"})}),Object(_.jsx)(N.a,{fontSize:"2xl",children:a.email})]}),d?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(E.a,{}),Object(_.jsx)(N.a,{fontSize:"md",children:Object(_.jsx)(F.a,{variant:"subtle",colorScheme:"green",children:"Password"})}),Object(_.jsxs)(se.a,{size:"md",children:[Object(_.jsx)(ae.a,{pr:"4.5rem",type:x?"text":"password",placeholder:"Enter password",value:""}),Object(_.jsx)(ge.b,{width:"4.5rem",children:Object(_.jsx)(K.a,{h:"1.75rem",size:"sm",onClick:function(){return p(!x)},children:x?"Hide":"Show"})})]})]}):null,d?null:Object(_.jsx)(K.a,{colorScheme:"cyan",onClick:function(){return b(!0)},children:"Edit details"}),d?Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",onClick:function(e){return v(e)},children:"Update the Assistant"}):null]})})]})};var Ae=function(e){var t=Object(Y.a)(),r=t.isOpen,n=t.onOpen,a=t.onClose;return Object(_.jsx)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",children:Object(_.jsxs)(X.a,{h:"auto",templateColumns:"repeat(8, 1fr)",templateRows:"repeat(3, 1fr)",gap:4,children:[Object(_.jsx)(X.b,{colSpan:{base:8,md:2},rowSpan:{base:1,md:3},pt:"12px",children:Object(_.jsx)(M.a,{children:Object(_.jsx)($.a,{src:e.imageUrl,alt:e.imageAlt,borderRadius:"full",boxSize:"120px"})})}),Object(_.jsx)(X.b,{colSpan:{base:8,md:5},rowSpan:{base:1,md:3},children:Object(_.jsxs)(T.a,{p:"6",children:[Object(_.jsx)(T.a,{d:"flex",alignItems:"baseline",children:Object(_.jsx)(F.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:"New"})}),Object(_.jsxs)(T.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:[e.firstname," ",e.lastname]}),Object(_.jsxs)(T.a,{children:[e.email,Object(_.jsx)(T.a,{as:"span",color:"gray.600",fontSize:"sm"})]})]})}),Object(_.jsxs)(X.b,{colSpan:{base:8,md:1},rowSpan:{base:1,md:3},pt:"50px",children:[Object(_.jsx)(K.a,{rightIcon:Object(_.jsx)(ee.a,{}),colorScheme:"teal",variant:"outline",onClick:n,children:"Details"}),Object(_.jsxs)(Q.a,{isOpen:r,onClose:a,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{top:"100px",children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Ee,{data:e,close:a})]})]})]})]})})},Ie=r(286),Ne=r(287);var _e=function(e){e.onSuccess;var t=Object(n.useState)(null),r=Object(k.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)({firstname:"",lastname:"",email:""}),i=Object(k.a)(s,2),o=i[0],l=i[1],j=Object(Y.a)(),d=j.isOpen,b=j.onOpen,h=j.onClose,u=Object(n.useState)({validation:[!1,!1,!1],errorMessage:["","",""]}),x=Object(k.a)(u,2),p=x[0],m=x[1],O=function(){var e=Object(z.a)(C.a.mark((function e(t){var r,n,a,s,i,l,j;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ue(o.firstname,p,m,0,"first name"),ue(o.lastname,p,m,1,"last name"),he(o.email,p,m,2),!(p.validation[0]||p.validation[1]||p.validation[2])){(r=new Headers).append("Content-Type","application/json"),n=q(),a=n.Authorization,s=n.token,r.append(a,s),i={firstname:o.firstname,lastname:o.lastname,email:o.email};try{l=JSON.stringify(i),j={method:"POST",headers:r,body:l,redirect:"follow"},fetch("".concat("","/employees"),j).then((function(e){return e.json()})).then((function(e){e.success&&(c({email:e.email,password:e.password}),f())})).catch((function(e){return console.log("error",e)}))}catch(d){console.error(d)}finally{console.log("We do cleanup here")}}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){b()},g=function(e){var t=e.target.value,r=e.target.name;"firstname"===r?ue(t,p,m,0,"first name"):"lastname"===r?ue(t,p,m,1,"last name"):"email"===r&&he(t,p,m,2),l(Object(B.a)(Object(B.a)({},o),{},Object(te.a)({},e.target.name,t)))};return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],w:"500px",children:[Object(_.jsx)("form",{action:"submit",children:Object(_.jsxs)(U.b,{spacing:3,children:[Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"text",value:o.firstname,name:"firstname",placeholder:"First Name","aria-label":"Fisrt Name",onChange:function(e){return g(e)},isInvalid:p.validation[0],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:p.errorMessage[0]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"text",value:o.lastname,name:"lastname",placeholder:"Last Name","aria-label":"Last Name",onChange:function(e){return g(e)},isInvalid:p.validation[1],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:p.errorMessage[1]})]}),Object(_.jsx)(E.a,{}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"email",value:o.email,name:"email",placeholder:"Email","aria-label":"Email",onChange:function(e){return g(e)},isInvalid:p.validation[2],errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:p.errorMessage[2]})]}),Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",onClick:function(e){return O(e)},children:"Add the Assistant"})]})}),Object(_.jsxs)(Q.a,{isOpen:d,onClose:h,isCentered:!0,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Q.b,{children:Object(_.jsx)(M.a,{children:a?Object(_.jsxs)(U.d,{mb:"10px",children:[Object(_.jsx)(Ie.a,{w:10,h:10,color:"green.500"}),Object(_.jsx)(N.a,{children:"Added Sucessfully"}),Object(_.jsx)(N.a,{children:a.email}),Object(_.jsx)(N.a,{children:a.password}),Object(_.jsx)(K.a,{children:Object(_.jsx)(we.a,{to:"/assistants",children:"Return"})})]}):Object(_.jsxs)(U.d,{children:[Object(_.jsx)(Ne.a,{w:10,h:10,color:"red.500"}),Object(_.jsx)(N.a,{children:"Unsuccessful"})]})})})]})]})]})},Pe=function(){var e=new Headers,t=q(),r=t.Authorization,n=t.token;e.append(r,n);var a={method:"GET",headers:e,redirect:"follow"};return fetch("".concat(H.apiUrl,"/employees"),a).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{assistants:e.employees,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting assistants",success:!1}}))},Fe=function(e){var t=new Headers,r=q(),n=r.Authorization,a=r.token;t.append(n,a);var c={method:"POST",headers:t,body:JSON.stringify({similarTo:e}),redirect:"follow"};return fetch("".concat(H.apiUrl,"/employees/search"),c).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{assistants:e.employees,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting assistants",success:!1}}))},Ue=function(e){var t=e.onAssistantAdded,r=Object(Y.a)(),n=r.isOpen,a=r.onOpen,c=r.onClose;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K.a,{p:6,colorScheme:"teal",fontSize:"20px",fontWeight:"bold",onClick:a,position:"fixed",bottom:"50px",right:"50px",zIndex:"1000",leftIcon:Object(_.jsx)(ye.a,{}),children:"Add Assistant"}),Object(_.jsxs)(Q.a,{closeOnOverlayClick:!1,isOpen:n,onClose:c,size:"lg",motionPreset:"slideInBottom",isCentered:!0,closeOnEsc:!0,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Q.b,{children:Object(_.jsx)(_e,{onSuccess:function(){c(),t()}})})]})]})]})},De=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=(s[0],s[1]),o=Object(n.useState)(""),l=Object(k.a)(o,2),j=l[0],d=l[1],b=function(){var e=Object(z.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe(t).then((function(e){e.success?a(e.assistants):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]);var h=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe(j).then((function(e){e.success?a(e.assistants):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ue,{onAssistantAdded:function(){b()}}),Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"300px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"10px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Assistants"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(Se,{text:"Search Assistant...",value:j,onChange:function(e){return function(e){var t=e.target.value;d(t)}(e)},onClick:function(){return h()}})}),0===r.length?Object(_.jsx)(T.a,{p:"15px",bg:"red.200",borderRadius:"lg",children:Object(_.jsx)(N.a,{fontSize:"sm",color:"red.800",children:"No assistants"})}):null,r.map((function(e,t){return Object(_.jsx)(Ae,{imageUrl:"./user.png",imageAlt:"User",id:e._id,firstname:e.firstname,lastname:e.lastname,email:e.email,fetch:b})}))]})})]})},We=r(290),Be=r(304),Le=r(288),He=r(289),Ve=r(62);var qe=function(e){var t=a.a.useState(!1),r=Object(k.a)(t,2),n=r[0],c=r[1];return Object(_.jsx)(we.a,{to:e.linkTo,as:Ve.a,children:Object(_.jsxs)(T.a,{maxW:"md",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",_hover:{bgGradient:"linear(to-r, gray.50, teal.50)"},children:[Object(_.jsx)($.a,{h:"400px",objectFit:"cover",src:e.imageUrl,alt:e.imageAlt}),Object(_.jsx)(T.a,{p:"8",children:Object(_.jsxs)(T.a,{children:[Object(_.jsx)(T.a,{color:"gray.500",fontWeight:"bold",letterSpacing:"wide",fontSize:"xl",textTransform:"uppercase",textAlign:"center",children:e.title}),Object(_.jsx)(Be.a,{in:n,children:Object(_.jsx)(T.a,{color:"black",fontWeight:"semi-bold",letterSpacing:"wide",fontSize:"l",textTransform:"uppercase",textAlign:"center",children:e.description})}),Object(_.jsxs)(Le.a,{children:[Object(_.jsx)(T.a,{}),Object(_.jsx)(He.a,{}),Object(_.jsx)(T.a,{children:Object(_.jsxs)(K.a,{size:"sm",onClick:function(){return c(!n)},mt:"1rem",children:["Show ",n?"Less":"More"]})})]})]})})]})})};var Je=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(M.a,{w:"100%",h:"100%",p:4,pb:"100px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"30px",children:[Object(_.jsx)(R.a,{as:"h2",size:"2xl",ml:"20px",mb:"20px",children:"Assitant Dashboard"}),Object(_.jsx)(R.a,{as:"h4",size:"md",ml:"20px",mb:"30px",children:"Sunrise - Hotel Assistant UI"}),Object(_.jsx)(E.a,{}),Object(_.jsxs)(We.a,{spacing:"50px",justify:"center",mt:"20px",mb:"10px",children:[Object(_.jsx)(We.b,{children:Object(_.jsx)(qe,{imageUrl:"https://blogmedia.evbstatic.com/wp-content/uploads/wpmulti/sites/8/2017/04/21143242/tourists.jpg",imageAlt:"Tourist Couple Picture",title:"Tourist Manager ",linkTo:"/app/tourists",description:" Add Tousrists, Delete Tourists, Update Tourists Information and View Activites"})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(qe,{imageUrl:"https://trendipia.com/wp-content/uploads/2017/05/phuket-thailand-beach-800x416.jpeg",imageAlt:"Location Picture",title:"View Visiting Place",linkTo:"/app/visitingPlaces",description:" Search Visiting Places"})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(qe,{imageUrl:"https://web-static.wrike.com/cdn-cgi/image/width=880,format=auto,q=80/blog/content/uploads/2020/01/Five-Features-of-a-Good-Monthly-Employee-Work-Schedule-Template.jpg?av=unknown",imageAlt:"Tourist Couple Picture",title:"Schedule Manager",linkTo:"/app/schedules",description:" View Schedules"})})]})]})})})},Ge=r(56);function Ke(e,t,r,n){var a=t.validation,c=t.errorMessage;/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)?(a[n]=!0,c[n]="valid",r({validation:a,errorMessage:c})):(a[n]=!1,c[n]="You have entered invalid email address",r({validation:a,errorMessage:c}))}function Ze(e,t,r,n,a){var c=t.validation,s=t.errorMessage;""!==e?(c[n]=!0,s[n]="valid",r({validation:c,errorMessage:s})):(c[n]=!1,s[n]="Enter "+a,r({validation:c,errorMessage:s}))}function Ye(e,t,r,n,a){var c=t.validation,s=t.errorMessage;Number(e)?(c[n]=!0,s[n]="valid",r({validation:c,errorMessage:s})):(c[n]=!1,s[n]="Enter numeric value to "+a,r({validation:c,errorMessage:s}))}var Xe=function(e){var t=Object(n.useState)(null),r=Object(k.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)({first_name:"",last_name:"",phone:"",email:""}),i=Object(k.a)(s,2),o=i[0],l=i[1],j=Object(Y.a)(),d=j.isOpen,b=j.onOpen,h=j.onClose,u=Object(n.useState)({validation:[!0,!0,!0,!0],errorMessage:["","","",""]}),x=Object(k.a)(u,2),p=x[0],m=x[1],O=function(){var e=Object(z.a)(C.a.mark((function e(t){var r,n,a,s,i,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new Headers).append("Content-Type","application/json"),n=q(),a=n.Authorization,s=n.token,r.append(a,s),i={firstname:t.first_name,lastname:t.last_name,email:t.email,mobile:t.phone};try{o=JSON.stringify(i),l={method:"POST",headers:r,body:o,redirect:"follow"},fetch("".concat("","/tourists"),l).then((function(e){return e.json()})).then((function(e){c({email:e.email,password:e.password}),b()})).catch((function(e){return console.log("error",e)}))}catch(j){console.error(j)}finally{console.log("We do cleanup here")}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(e){return g.apply(this,arguments)}function g(){return(g=Object(z.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value,"first_name"===(n=t.target.name)?Ze(r,p,m,0,"first name"):"last_name"===n?Ze(r,p,m,1,"last name"):"email"===n?Ke(r,p,m,2):"phone"===n&&Ye(r,p,m,3,"mobile number"),l(Object(B.a)(Object(B.a)({},o),{},Object(te.a)({},t.target.name,r)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[Object(_.jsx)(R.a,{as:"h4",size:"md",textAlign:"center",pb:"20px",pt:"5px",children:"Add New Customer"}),Object(_.jsx)("form",{action:"submit",onSubmit:function(e){e.preventDefault();for(var t=0;t<p.validation.length;t++)if(!1===p.validation[t]&&"valid"!==p.errorMessage[t])return;O(o),l(Object(B.a)(Object(B.a)({},o),{},{first_name:"",last_name:"",phone:"",email:"",roomType:"",roomNumber:""}))},children:Object(_.jsxs)(U.b,{spacing:4,children:[Object(_.jsxs)(U.a,{spacing:"10px",children:[Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.c,{color:""})}),Object(_.jsx)(ae.a,{name:"first_name",value:o.first_name,placeholder:"First Name",isInvalid:!p.validation[0],onChange:function(e){return f(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[0]?"":p.errorMessage[0]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(se.a,{children:Object(_.jsx)(ae.a,{name:"last_name",value:o.last_name,placeholder:"Last Name",isInvalid:!p.validation[1],onChange:function(e){return f(e)},errorBorderColor:"crimson"})}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[1]?"":p.errorMessage[1]})]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.b,{color:""})}),Object(_.jsx)(ae.a,{name:"phone",value:o.phone,isInvalid:!p.validation[3],placeholder:"Mobile Number",onChange:function(e){return f(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[3]?"":p.errorMessage[3]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.a,{color:""})}),Object(_.jsx)(ae.a,{name:"email",value:o.email,isInvalid:!p.validation[2],placeholder:"Email Address",onChange:function(e){return f(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[2]?"":p.errorMessage[2]})]}),Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",children:"Add Customer"})]})}),Object(_.jsxs)(Q.a,{isOpen:d,onClose:h,isCentered:!0,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Q.b,{children:Object(_.jsx)(M.a,{children:a?Object(_.jsxs)(U.d,{mb:"10px",children:[Object(_.jsx)(Ie.a,{w:10,h:10,color:"green.500"}),Object(_.jsx)(N.a,{children:"Added Sucessfully"}),Object(_.jsx)(N.a,{children:a.email}),Object(_.jsx)(N.a,{children:a.password})]}):Object(_.jsxs)(U.d,{children:[Object(_.jsx)(Ne.a,{w:10,h:10,color:"red.500"}),Object(_.jsx)(N.a,{children:"Unsuccessful"})]})})})]})]})]})},$e=r(293),Qe=r(294),et=r(167),tt=r(291),rt=r(292);r(240);var nt=function(e){var t=a.a.useState(!1),r=Object(k.a)(t,2),c=r[0],s=(r[1],a.a.useState({rooms:[],isFetching:!1})),i=Object(k.a)(s,2),o=i[0],l=(i[1],Object(n.useState)({first_name:e.first_name,last_name:e.last_name,phone:e.phone,email:e.email,roomType:e.roomType,roomNumber:e.roomNumber})),j=Object(k.a)(l,2),d=j[0],b=j[1];function h(e){var t=e.target.value,r=e.target.name;"first_name"===r?Ze(t,p,m,0,"first name"):"last_name"===r?Ze(t,p,m,1,"last name"):"email"===r?Ke(t,p,m,2):"phone"===r&&Ye(t,p,m,3,"mobile number"),b(Object(B.a)(Object(B.a)({},d),{},Object(te.a)({},e.target.name,t)))}var u=Object(n.useState)({validation:[!0,!0,!0,!0],errorMessage:["","","",""]}),x=Object(k.a)(u,2),p=x[0],m=x[1];return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[Object(_.jsxs)(R.a,{as:"h4",size:"md",textAlign:"center",pb:"20px",pt:"5px",children:["Update Details of ",e.touristName]}),c?Object(_.jsxs)(re.a,{status:"error",mb:"20px",children:[Object(_.jsx)(re.c,{}),"Error"]}):null,Object(_.jsx)("form",{action:"submit",onSubmit:function(t){t.preventDefault();for(var r=0;r<p.validation.length;r++)if(!1===p.validation[r]&&"valid"!==p.errorMessage[r])return;e.onUpdate(e.id,d)},children:Object(_.jsxs)(U.b,{spacing:4,children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(D.a,{size:"2xl",name:"Profile photo",src:e.imageUrl})}),Object(_.jsxs)(U.a,{spacing:"10px",children:[Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.c,{color:""})}),Object(_.jsx)(ae.a,{name:"first_name",value:d.first_name,placeholder:e.first_name,isInvalid:!p.validation[0],onChange:function(e){return h(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[0]?"":p.errorMessage[0]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(se.a,{children:Object(_.jsx)(ae.a,{name:"last_name",value:d.last_name,placeholder:e.last_name,isInvalid:!p.validation[1],onChange:function(e){return h(e)},errorBorderColor:"crimson"})}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[1]?"":p.errorMessage[1]})]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(N.a,{fontSize:"md",color:"gray.500",children:"Change mobile number"}),Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.b,{color:""})}),Object(_.jsx)(ae.a,{name:"phone",value:d.phone,isInvalid:!p.validation[3],placeholder:e.phone,onChange:function(e){return h(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[3]?"":p.errorMessage[3]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(N.a,{fontSize:"md",color:"gray.500",children:"Change email"}),Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{pointerEvents:"none",children:Object(_.jsx)(Ge.a,{color:""})}),Object(_.jsx)(ae.a,{name:"email",value:d.email,isInvalid:!p.validation[2],placeholder:e.email,onChange:function(e){return h(e)},errorBorderColor:"crimson"})]}),Object(_.jsx)(ne.b,{color:"crimson",children:"valid"===p.errorMessage[2]?"":p.errorMessage[2]})]}),Object(_.jsxs)(ne.a,{id:"suiteType",isRequired:!0,children:[Object(_.jsx)(tt.a,{children:"Suite Type"}),Object(_.jsx)(rt.a,{name:"roomType",value:d.roomType,placeholder:e.roomType,onChange:function(e){return h(e)},children:o.isFetching?Object(_.jsx)("option",{}):o.rooms.map((function(e){return Object(_.jsx)("option",{children:e.roomType},e.roomTypeId)}))}),Object(_.jsx)(tt.a,{children:"Room Number"}),Object(_.jsx)(rt.a,{name:"roomNumber",value:d.roomNumber,placeholder:e.roomNumber,onChange:function(e){return h(e)},children:Object(_.jsx)("option",{children:"1"})})]}),Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",children:"Update Customer"})]})})]})};var at=function(e){var t=Object(Y.a)(),r=t.isOpen,n=t.onOpen,a=t.onClose;return Object(_.jsx)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",children:Object(_.jsxs)(X.a,{h:"auto",templateColumns:"repeat(8, 1fr)",templateRows:"repeat(3, 1fr)",gap:4,children:[Object(_.jsx)(X.b,{colSpan:{base:8,md:2},rowSpan:{base:1,md:3},pt:"12px",children:Object(_.jsx)(M.a,{children:Object(_.jsx)($.a,{src:e.imageUrl,alt:e.imageAlt,borderRadius:"full",boxSize:"120px"})})}),Object(_.jsx)(X.b,{colSpan:{base:8,md:3},rowSpan:{base:1,md:3},children:Object(_.jsxs)(T.a,{p:"6",children:[Object(_.jsx)(T.a,{d:"flex",alignItems:"baseline",children:Object(_.jsx)(F.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:"New"})}),Object(_.jsx)(T.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:e.first_name+" "+e.last_name}),Object(_.jsx)(T.a,{children:e.email}),Object(_.jsx)(T.a,{children:e.phone})]})}),Object(_.jsxs)(X.b,{colSpan:{base:8,md:3},rowSpan:{base:1,md:3},pt:"50px",children:[Object(_.jsxs)(We.a,{spacing:"30px",children:[Object(_.jsx)(We.b,{children:Object(_.jsx)(K.a,{leftIcon:Object(_.jsx)(et.a,{}),colorScheme:"teal",children:"Activities"})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(K.a,{leftIcon:Object(_.jsx)($e.a,{}),colorScheme:"teal",variant:"outline",onClick:n,children:"Update Details"})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(K.a,{leftIcon:Object(_.jsx)(Qe.a,{}),colorScheme:"red",onClick:function(){return e.onDelete(e.id)},children:"Delete"})})]}),Object(_.jsxs)(Q.a,{isOpen:r,onClose:a,children:[Object(_.jsx)(Q.e,{}),Object(_.jsx)(Q.d,{top:"100px",children:Object(_.jsx)(nt,{imageUrl:e.imageUrl,imageAlt:e.imageAlt,id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone,roomNumber:e.roomNumber,roomType:e.roomType,onUpdate:e.onUpdate})})]})]})]})})};var ct=function(e){return Object(_.jsx)(T.a,{w:"500px",mb:"20px",children:Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.b,{children:Object(_.jsx)(ve.a,{colorScheme:"teal","aria-label":"Search database",icon:Object(_.jsx)(fe.a,{})})}),Object(_.jsx)(ae.a,{placeholder:e.text,name:"search",value:e.value,onChange:e.onChange})]})})};var st=function(){var e=Object(Y.a)(),t=e.isOpen,r=e.onOpen,a=e.onClose,c=Object(n.useState)([]),s=Object(k.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(k.a)(l,2),d=(j[0],j[1]),b=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te().then((function(e){e.success?o(e.tourists):d(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K.a,{position:"fixed",bottom:"50px",right:"50px",zIndex:"1000",leftIcon:Object(_.jsx)(ye.a,{}),colorScheme:"teal",onClick:r,children:"Add Tourists"}),Object(_.jsxs)(Q.a,{isOpen:t,onClose:a,children:[Object(_.jsx)(Q.e,{}),Object(_.jsx)(Q.d,{top:"100px",children:Object(_.jsx)(Xe,{})})]}),Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pt:"180px",pb:"100px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"30px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Tourist Manager"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(ct,{text:"Search Tourists..."})}),i.map((function(e){return Object(_.jsx)(at,{id:e.id,imageUrl:"./user.png",first_name:e.firstname,last_name:e.lastname,email:e.email,phone:e.phone},e.id)}))]})})]})};var it=function(e){for(var t=[],r=0;r<e.path.length;r++)t.push(Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(F.a,{variant:"outline",colorScheme:"cyan",children:e.path[r]})}));return Object(_.jsxs)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",boxShadow:"xl",children:[Object(_.jsxs)(U.b,{direction:{base:"column",md:"row"},mb:"10px",children:[Object(_.jsx)(F.a,{variant:"solid",colorScheme:"purple",fontSize:"20px",children:e.place}),function(e){var t="";return"completed"===e?t="green":"not-completed"===e?t="orange":"cancelled"===e&&(t="red"),Object(_.jsx)(F.a,{variant:"subtle",h:"20px",colorScheme:t,children:e})}(e.state)]}),Object(_.jsxs)(A.a,{columns:2,spacing:"1px",children:[Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"xs",children:" Schedule By,"}),Object(_.jsxs)(N.a,{fontSize:"xs",children:[Object(_.jsx)(D.a,{size:"xs",name:"user",src:"./user.png",mr:"5px"}),e.user]})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"xs",children:"Fair"}),Object(_.jsx)(N.a,{fontSize:"xl",children:e.fair})]})]}),Object(_.jsx)(E.a,{}),Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Path"}),Object(_.jsx)(U.b,{direction:{base:"column",md:"row"},children:t}),Object(_.jsxs)(A.a,{columns:2,spacing:"1px",children:[Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Travel Method"}),Object(_.jsx)(F.a,{variant:"outline",colorScheme:"orange",children:e.travelmethod})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{fontSize:"lg",mt:"10px",children:"Date"}),Object(_.jsx)(F.a,{variant:"outline",colorScheme:"blue",children:e.date})]})]})]})};var ot=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"100px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"30px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Schedule Manager"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(ct,{text:"Search Schedules..."})}),Object(_.jsx)(E.a,{}),Object(_.jsx)(R.a,{as:"h2",size:"lg",ml:"20px",mb:"20px",mt:"30px",children:"Schedules"}),Object(_.jsx)(T.a,{children:Object(_.jsxs)(We.a,{spacing:"30px",children:[Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})}),Object(_.jsx)(We.b,{children:Object(_.jsx)(it,{place:"Mirissa",user:"Kamal perera",date:"2021/01/20",travelmethod:"bus",fair:"Rs. 200.00",state:"completed",path:["Mirissa","Galle fort","Jungle beach"]})})]})})]})})})},lt=function(){var e=O(),t=new Headers,r=q(),n=r.Authorization,a=r.token;t.append(n,a);var c={method:"GET",headers:t,redirect:"follow"};return fetch("".concat(H.apiUrl,"/schedules/user/").concat(e),c).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return{schedules:e.schedules,success:!0};var t=new Error("Error "+e.status);throw t.response=e,console.log(t),t})).catch((function(e){return{status:"Error while getting schedules",success:!1}}))},jt=function(e){var t=e.place,r=e.date,n=e.travellingMethod,a=e.fair,c=e.state;return Object(_.jsx)(T.a,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",my:"5",children:Object(_.jsxs)(T.a,{p:"6",children:[Object(_.jsx)(F.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:c}),Object(_.jsx)(T.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:t}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(N.a,{children:"On : ".concat(r.split("T")[0])}),Object(_.jsx)(N.a,{children:"At : ".concat(r.split("T")[1])}),Object(_.jsx)(N.a,{children:"TravellingMethod : ".concat(n)}),a&&Object(_.jsx)(N.a,{children:"Fair : ".concat(a)})]})]})})};var dt=function(){return Object(_.jsxs)(re.a,{status:"info",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",py:"5",children:[Object(_.jsx)(re.c,{boxSize:"40px",mr:0}),Object(_.jsx)(re.d,{mt:4,mb:1,fontSize:"lg",children:"Looks Like you don't have Any Schedules yet!"}),Object(_.jsxs)(re.b,{maxWidth:"sm",children:[Object(_.jsx)(N.a,{children:"Visit Visiting Places Page and Plan Your time"}),Object(_.jsx)(we.a,{to:"/app/visitingplaces",as:Ve.a,children:Object(_.jsx)(K.a,{borderRadius:"8px",m:"5",py:"4",px:"4",lineHeight:"1",size:"md",children:"Go to Visiting places"})})]})]})},bt=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lt().then((function(e){e.success&&a(e.schedules)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"100px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"30px",children:[Object(_.jsx)(R.a,{as:"h2",size:"2xl",ml:"20px",mb:"20px",children:"Dashboard"}),Object(_.jsx)(R.a,{as:"h4",size:"md",ml:"20px",mb:"30px",children:"Sunrise - Hotel Management System"}),Object(_.jsx)(E.a,{}),0==r.length&&Object(_.jsx)(dt,{}),r.map((function(e,t){return Object(_.jsx)(jt,{place:e.place.name,date:e.date,travellingMethod:e.travellingMethod,fair:e.fair,state:e.state},e._id)}))]})})})},ht=function(e){var t=e.place_locations,r=e.place_names;console.log(r);var c=a.a.useState({latitude:6.795165,longitude:79.900616,zoom:7.5,pitch:40,bearing:0}),s=Object(k.a)(c,2),i=s[0],o=s[1];return Object(_.jsx)(T.a,{boxShadow:"xl",children:Object(_.jsxs)(L.e,Object(B.a)(Object(B.a)({mapboxApiAccessToken:H.MAPBOX_ACCESSTOKEN,width:"100%",height:400,latitude:i.latitude,longitude:i.longitude,zoom:i.zoom,onViewportChange:function(e){return o(e)}},i),{},{children:[t.map((function(e,t){return Object(n.createElement)(L.b,Object(B.a)(Object(B.a)({},e),{},{key:t}),Object(_.jsx)("svg",{height:20,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#d00",stroke:"none",transform:"translate(".concat(-10,"px,").concat(-20,"px)")},children:Object(_.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})}),Object(_.jsx)(N.a,{color:"tomato",children:"".concat(r[t].name)}))})),Object(_.jsx)("div",{style:{position:"absolute",top:0,left:0,padding:"10px"},children:Object(_.jsx)(L.a,{})}),Object(_.jsx)("div",{style:{position:"absolute",top:72,left:0,padding:"10px"},children:Object(_.jsx)(L.c,{})}),Object(_.jsx)("div",{style:{position:"absolute",bottom:36,left:0,padding:"10px"},children:Object(_.jsx)(L.d,{})})]}))})},ut=r(173),xt=r(305);var pt=function(e){var t=Object(n.useState)({user:O(),place:e.data.id,date:null,time:null,travellingMethod:null}),r=Object(k.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)({validation:[!0,!1,!1],errorMessage:["","",""]}),i=Object(k.a)(s,2),o=i[0],l=i[1],j=function(e){var t=e.target.value,r=e.target.name;"date"===r?ue(t,o,l,1,"date"):"time"===r&&ue(t,o,l,2,"time"),c(Object(B.a)(Object(B.a)({},a),{},Object(te.a)({},e.target.name,t)))},d=Object(Y.a)(),b=d.isOpen,h=d.onOpen,u=d.onClose,x=Object(n.useState)(null),p=Object(k.a)(x,2),m=p[0],f=p[1],g=function(){var e=Object(z.a)(C.a.mark((function e(t){var r,n,c,s,i,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(r=new Headers).append("Content-Type","application/json"),n=q(),c=n.Authorization,s=n.token,r.append(c,s),i={user:a.user,place:a.place,date:"".concat(a.date,"T").concat(a.time,":00.000Z"),travellingMethod:a.travellingMethod};try{o=JSON.stringify(i),l={method:"POST",headers:r,body:o,redirect:"follow"},fetch("".concat("","/schedules"),l).then((function(e){return e.json()})).then((function(e){e.success&&(h(),f(!0))})).catch((function(e){return f(!1)}))}catch(j){f(!1)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[Object(_.jsx)(R.a,{as:"h4",size:"md",textAlign:"center",pb:"20px",pt:"5px",children:"Schedule Routings"}),Object(_.jsx)("form",{action:"submit",onSubmit:g,children:Object(_.jsxs)(U.b,{spacing:4,children:[Object(_.jsx)(N.a,{children:"Date"}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"date",value:a.date,name:"date",placeholder:"Date","aria-label":"Date",isInvalid:o.validation[1],onChange:function(e){return j(e)},errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:o.errorMessage[1]})]}),Object(_.jsx)(N.a,{children:"Time"}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsx)(ae.a,{type:"time",value:a.time,name:"time",placeholder:"Time","aria-label":"Time",isInvalid:o.validation[2],onChange:function(e){return j(e)},errorBorderColor:"crimson"}),Object(_.jsx)(ne.b,{color:"crimson",children:o.errorMessage[2]})]}),Object(_.jsx)(ut.a,{onChange:function(e){c(Object(B.a)(Object(B.a)({},a),{},{travellingMethod:e}))},value:a.travellingMethod,children:Object(_.jsx)(U.b,{direction:"row",children:e.data.methods.map((function(e){return Object(_.jsx)(xt.a,{value:e,children:e})}))})}),Object(_.jsx)(K.a,{colorScheme:"cyan",type:"submit",children:"Save"})]})}),Object(_.jsxs)(Q.a,{isOpen:b,onClose:u,isCentered:!0,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Q.b,{children:Object(_.jsx)(M.a,{children:m?Object(_.jsxs)(U.d,{mb:"10px",children:[Object(_.jsx)(Ie.a,{w:10,h:10,color:"green.500"}),Object(_.jsx)(N.a,{children:"Added Sucessfully"})]}):Object(_.jsxs)(U.d,{children:[Object(_.jsx)(Ne.a,{w:10,h:10,color:"red.500"}),Object(_.jsx)(N.a,{children:"Unsuccessful"})]})})})]})]})]})},mt=function(e){var t=Object(Y.a)(),r=t.isOpen,n=t.onOpen,a=t.onClose;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K.a,{colorScheme:"teal",onClick:n,children:"Add To Schedule"}),Object(_.jsxs)(Q.a,{isOpen:r,onClose:a,children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Q.b,{children:Object(_.jsx)(pt,{data:e.data})})]})]})]})};var Ot=function(e){var t=e.data;return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[Object(_.jsx)(R.a,{as:"h4",size:"lg",textAlign:"center",pb:"20px",pt:"5px",children:t.placeName}),Object(_.jsx)(T.a,{shadow:"xl",mb:"20px",children:Object(_.jsx)($.a,{src:t.imageUrl,alt:"photo",rounded:"md"})}),Object(_.jsxs)(U.b,{spacing:3,children:[Object(_.jsxs)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",children:[Object(_.jsx)(N.a,{fontSize:"3xl",children:"Description"}),Object(_.jsx)(N.a,{children:t.description})]}),Object(_.jsx)(T.a,{children:Object(_.jsx)(ht,{place_locations:[{latitude:t.latitude,longitude:t.longitude}],place_names:[{name:t.placeName}]})}),Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Distance",Object(_.jsxs)(F.a,{ml:"1",fontSize:"0.8em",colorScheme:"green",variant:"outline",children:[t.distance," km"]})]})}),Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Travelling Method",t.methods.map((function(e,t){return Object(_.jsx)(F.a,{m:"3px",borderRadius:"full",px:"2",colorScheme:"orange",children:e})}))]})}),Object(_.jsx)(T.a,{shadow:"xl",p:"10px",rounded:"md",mb:"10px",children:Object(_.jsxs)(N.a,{fontSize:"2xl",children:["Time to Reach",Object(_.jsxs)(F.a,{ml:"1",fontSize:"0.8em",colorScheme:"red",variant:"outline",children:[t.timeToReach," min"]})]})}),Object(_.jsx)(mt,{data:t})]})]})};function ft(e){var t=Object(Y.a)(),r=t.isOpen,n=t.onOpen,a=t.onClose;return Object(_.jsx)(T.a,{width:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",p:"10px",mb:"10px",children:Object(_.jsxs)(X.a,{h:"auto",templateColumns:"repeat(8, 1fr)",templateRows:"repeat(3, 1fr)",gap:4,children:[Object(_.jsx)(X.b,{colSpan:{base:8,md:2},rowSpan:{base:1,md:3},pt:"12px",children:Object(_.jsx)(M.a,{children:Object(_.jsx)($.a,{src:e.imageUrl,alt:"place name"})})}),Object(_.jsx)(X.b,{colSpan:{base:8,md:5},rowSpan:{base:1,md:3},children:Object(_.jsxs)(T.a,{p:"6",children:[Object(_.jsx)(T.a,{d:"flex",alignItems:"baseline",children:Object(_.jsx)(F.a,{borderRadius:"full",px:"2",colorScheme:"teal",children:"New"})}),Object(_.jsx)(T.a,{mt:"1",fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:Object(_.jsx)(N.a,{fontSize:"3xl",children:e.placeName})}),Object(_.jsxs)(T.a,{children:[e.distance," km from the hotel",Object(_.jsx)(T.a,{as:"span",color:"gray.600",fontSize:"sm"})]}),Object(_.jsxs)(T.a,{children:[e.timeToReach," min journey",Object(_.jsx)(T.a,{as:"span",color:"gray.600",fontSize:"sm"})]}),Object(_.jsxs)(T.a,{d:"flex",mt:"2",alignItems:"center",children:[Object(_.jsx)(N.a,{fontSize:"sm",children:"Travel by :"}),e.methods.map((function(e,t){return Object(_.jsx)(F.a,{m:"3px",borderRadius:"full",px:"2",colorScheme:"orange",children:e})}))]})]})}),Object(_.jsxs)(X.b,{colSpan:{base:8,md:1},rowSpan:{base:1,md:3},pt:"50px",children:[Object(_.jsx)(K.a,{rightIcon:Object(_.jsx)(ee.a,{}),colorScheme:"teal",variant:"outline",onClick:n,children:"Details"}),Object(_.jsxs)(Q.a,{isOpen:r,onClose:a,size:"4xl",children:[Object(_.jsx)(Q.e,{}),Object(_.jsxs)(Q.d,{children:[Object(_.jsx)(Q.c,{}),Object(_.jsx)(Ot,{data:e,close:a})]})]})]})]})})}ft.defaultProps={role:"user"};var gt=ft;var vt=function(e){return Object(_.jsx)(T.a,{w:"500px",mb:"20px",children:Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.b,{children:Object(_.jsx)(ve.a,{colorScheme:"teal","aria-label":"Search database",icon:Object(_.jsx)(fe.a,{}),onClick:e.onClick})}),Object(_.jsx)(ae.a,{placeholder:e.text,name:"search",value:e.value,onChange:e.onChange})]})})};var St=[{component:G,path:"/",title:"Dashboard",exact:!0,permission:[g,v]},{component:Ce,path:"/visitingplaces",title:"Visiting Palces",permission:[g,v]},{component:De,path:"/assistants",title:"Assistants",permission:[g,v]},{component:Re,path:"/tourists",title:"Tourists",permission:[g,v]},{component:st,path:"/tourists",title:"Tourists",permission:[S]},{component:ot,path:"/schedules",title:"Schedules",permission:[S]},{component:Je,path:"/",title:"Dashboard",permission:[S]},{component:function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(k.a)(c,2),i=(s[0],s[1]),o=Object(n.useState)(""),l=Object(k.a)(o,2),j=l[0],d=l[1],b=function(){var e=Object(z.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le().then((function(e){e.success?a(e.visitingPlaces):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(z.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(t).then((function(e){e.success?a(e.visitingPlaces):i(e.status)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K.a,{position:"fixed",bottom:"50px",right:"50px",zIndex:"1000",leftIcon:Object(_.jsx)(ye.a,{}),colorScheme:"teal",children:Object(_.jsx)(we.a,{as:Z.ReactRouterLink,to:"/addvisitingplace",children:"Add Visiting Place"})}),Object(_.jsx)(M.a,{w:"100%",h:"auto",p:4,pb:"300px",children:Object(_.jsxs)(T.a,{w:"90%",h:"auto",borderWidth:"1px",borderRadius:"lg",p:"10px",children:[Object(_.jsx)(R.a,{ml:"20px",mb:"20px",children:"Visiting Places"}),Object(_.jsx)(M.a,{children:Object(_.jsx)(vt,{text:"Search visiting place...",value:j,onChange:function(e){return function(e){var t=e.target.value;d(t),h({similarTo:t})}(e)}})}),0===r.length?Object(_.jsx)(T.a,{p:"15px",bg:"red.200",borderRadius:"lg",children:Object(_.jsx)(N.a,{fontSize:"sm",color:"yellow.800",children:"No visiting places"})}):null,r.map((function(e,t){return Object(_.jsx)(gt,{id:e._id,placeName:e.name,description:e.description,latitude:e.location.coordinates[0],longitude:e.location.coordinates[1],distance:e.distance,methods:e.travellingMethods,timeToReach:e.timeToReach,imageUrl:"./1.jpg",fetch:b})}))]})})]})},path:"/visitingplaces",title:"Visiting Places",permission:[w]},{component:bt,path:"/",title:"Dashboard",permission:[w]}],wt=r(295),yt=r(296),Ct=function(e){return function(t){return Object(_.jsx)("div",{className:"center-to-screen",children:Object(_.jsx)(e,Object(B.a)({},t))})}},zt=function(e){return Object(_.jsx)(wt.a,Object(B.a)(Object(B.a)({},e.col),{},{children:Object(_.jsxs)(yt.a,{children:[Object(_.jsx)("h1",{children:e.title}),Object(_.jsx)("p",{children:e.description}),Object(_.jsx)("div",{style:{color:"#0056b3"},children:e.children})]})}))};zt.defaultProps={description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).",col:{md:"6"}};var kt=Object(n.memo)(Ct(zt));function Mt(e){var t=Object(b.g)();return Object(_.jsx)(Le.a,{width:"full",mb:4,children:Object(_.jsx)(T.a,{width:"full",boxShadow:"lg",children:Object(_.jsxs)(U.b,{isInline:!0,justifyContent:"space-between",px:8,children:[Object(_.jsx)(Tt,{}),Object(_.jsx)(U.b,{isInline:!0,justifyContent:"space-between",mt:4,align:"center",children:Object(_.jsxs)(U.a,{divider:Object(_.jsx)(U.c,{borderColor:"gray.200"}),children:[e.routes.map((function(t){var r=t.path,n=t.title;return Object(_.jsx)(N.a,{fontSize:"20px",fontWeight:"bold",fontFamily:"Agustina Regular",mb:{base:8,sm:0},mr:{base:0,sm:8},display:"block",children:Object(_.jsx)(we.a,{className:"w3-bar-item",to:"".concat(e.prefix).concat(r),children:n},r)},r)})),m()&&Object(_.jsx)(K.a,{onClick:function(){localStorage.removeItem("token"),t.push("/")},children:"Logout"})]})})]})})})}Mt.defaultProps={prefix:"",className:""};var Tt=function(){return Object(_.jsx)(R.a,{as:"h1",size:"xlg",letterSpacing:".1rem",fontSize:"50px",fontFamily:"Agustina Regular",children:"SunRise"})},Rt=Object(n.memo)(Mt),Et=function(e){return Object(_.jsx)(kt,Object(B.a)(Object(B.a)({},e.jumbotronProps),{},{children:e.children}))};Et.defaultProps={jumbotronProps:{title:"404 not found"},children:Object(_.jsx)(we.a,{to:"/",children:"Back to home"})};var At=Object(n.memo)(Et),It=r(97);function Nt(e){var t=e.routes,r=e.basePath,a=e.isAddNotFound,c=Object(b.h)(r);return Object(_.jsxs)(b.d,{children:[t.map((function(e){var t=e.path,r=e.component,a=e.children,s=(e.title,e.permission,Object(It.a)(e,["path","component","children","title","permission"]));return Object(n.createElement)(b.b,Object(B.a)(Object(B.a)({},s),{},{key:t,path:"".concat(c.path).concat(t)}),Object(_.jsx)(r,{children:a}))})),a&&Object(_.jsx)(b.b,{children:Object(_.jsx)(At,{})})]})}var _t=Object(n.memo)(Nt);var Pt=function(){var e=Object(b.h)("/app"),t=[];return m()?(t=f(St),Object(_.jsxs)(n.Fragment,{children:[Object(_.jsx)(Rt,{routes:t,prefix:e.path,className:"bg-white"}),Object(_.jsx)(_t,{routes:t,basePath:"/app",isAddNotFound:!0})]})):Object(_.jsx)(b.a,{to:"/"})},Ft=r(279);r(258);function Ut(e){var t=e.title,r=e.subtitle1,n=e.subtitle2;Object(It.a)(e,["title","subtitle1","subtitle2"]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"landing",children:[Object(_.jsx)(M.a,{pt:"35vh",children:Object(_.jsxs)(U.d,{w:{base:"80%",md:"40%"},children:[Object(_.jsx)(Ft.a,{offsetY:"-100px",in:!0,children:Object(_.jsx)(N.a,{fontSize:{base:"4xl",sm:"6xl"},color:"white",children:t})}),Object(_.jsx)(Ft.a,{offsetY:"-10px",in:!0,children:Object(_.jsxs)(N.a,{fontSize:{base:"md",sm:"xl"},color:"teal.300",mb:"20px",children:[r,"                        "]})}),Object(_.jsx)(R.a,{as:"h2",size:"md",color:"primary.800",opacity:"0.8",fontWeight:"normal",lineHeight:1.5,textAlign:["center","center","left","left"],children:Object(_.jsx)(Ft.a,{offsetY:"-10px",in:!0,children:Object(_.jsx)(N.a,{color:"teal.100",mb:"20px",fontSize:"sm",children:n})})}),Object(_.jsx)(Ft.a,{offsetY:"100px",in:!0,children:Object(_.jsx)(we.a,{to:"/login",as:Ve.a,children:Object(_.jsx)(K.a,{borderRadius:"8px",py:"4",px:"4",lineHeight:"1",size:"md",children:"Login"})})})]})}),Object(_.jsx)(T.a,{color:"teal",position:"fixed",bottom:"0px",w:"100%",children:Object(_.jsx)(M.a,{children:Object(_.jsx)(N.a,{color:"teal.100",fontSize:{base:"xs",sm:"md"},children:"Designed by University of Moratuwa | 2020 All Rights Reserved"})})})]})})}Ut.defaultProps={title:"Welcome",subtitle1:"Sunrise - Hotel Management System",subtitle2:"Plan ahead with guaranteed flexibility"};var Dt=Object(n.memo)(Ut),Wt=r(297),Bt=r(298);var Lt=function(e){return fetch("".concat(H.apiUrl,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email,password:e.password})}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(e.success)return localStorage.setItem("token",e.token),{status:"Login Successful!",success:!0};var t=new Error("Error "+e.status);throw t.response=e,t})).catch((function(e){return{status:"Login Unsuccessful!",success:!1}}))};var Ht=function(e){var t=e.handleLoginSuccess,r=Object(n.useState)(!1),a=Object(k.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],j=o[1],d=Object(n.useState)({validation:[!1,!1],errorMessage:["",""]}),b=Object(k.a)(d,2),h=b[0],u=b[1],x=Object(n.useState)({email:"",password:""}),p=Object(k.a)(x,2),m=p[0],O=p[1],f=function(e){var t=e.target.value,r=e.target.name;"email"===r?Ke(t,h,u,0):"password"===r&&Ze(t,h,u,1,"password"),O(Object(B.a)(Object(B.a)({},m),{},Object(te.a)({},e.target.name,t)))};return Object(_.jsxs)(T.a,{border:"1px",borderColor:"gray.200",p:["5px","15px","25px"],children:[Object(_.jsx)(R.a,{as:"h4",size:"md",textAlign:"center",pb:"20px",pt:"5px",children:"Log In"}),c?Object(_.jsxs)(re.a,{status:"error",mb:"20px",children:[Object(_.jsx)(re.c,{}),"Error while Login!!"]}):null,Object(_.jsx)("form",{action:"submit",children:Object(_.jsxs)(U.b,{spacing:3,children:[Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{children:Object(_.jsx)(Wt.a,{})}),Object(_.jsx)(ae.a,{type:"email",value:m.email,placeholder:"Email","aria-label":"Email",name:"email",onChange:function(e){return f(e)},isInvalid:h.validation[0],errorBorderColor:h.validation[0]?"green.300":"crimson"})]}),Object(_.jsx)(ne.b,{color:h.validation[0]?"green.300":"crimson",children:h.errorMessage[0]})]}),Object(_.jsxs)(ne.a,{isRequired:!0,children:[Object(_.jsxs)(se.a,{children:[Object(_.jsx)(ge.a,{children:Object(_.jsx)(Bt.a,{})}),Object(_.jsx)(ae.a,{type:l?"text":"password",value:m.password,placeholder:"Password","aria-label":"Password",name:"password",onChange:function(e){return f(e)},isInvalid:h.validation[1],errorBorderColor:h.validation[1]?"green.300":"crimson"}),Object(_.jsx)(ge.b,{width:"4.5rem",children:Object(_.jsx)(K.a,{h:"1.75rem",size:"sm",onClick:function(){return j(!l)},children:l?"Hide":"Show"})})]}),Object(_.jsx)(ne.b,{color:h.validation[0]?"green.300":"crimson",children:h.errorMessage[1]})]}),Object(_.jsx)(K.a,{colorScheme:"teal",type:"button",onClick:function(e){e.preventDefault();try{Lt(m).then((function(e){e.success?t():s(!0)}))}catch(r){}},children:"Log In"})]})})]})};function Vt(){var e=Object(b.g)();return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Ht,{handleLoginSuccess:function(){e.push("/app")}})})}var qt=Object(n.memo)(Vt);var Jt=function(){return Object(_.jsx)(n.Fragment,{children:Object(_.jsxs)(b.d,{children:[Object(_.jsx)(b.b,{path:"/login",children:Object(_.jsx)(qt,{})}),Object(_.jsx)(b.b,{path:"/",children:Object(_.jsx)(Dt,{})})]})})};function Gt(){return m()?Object(_.jsx)(b.a,{to:"/app"}):Object(_.jsx)(Jt,{})}var Kt=Object(n.memo)(Gt);function Zt(){return Object(_.jsx)(b.c,{history:u,children:Object(_.jsxs)(b.d,{children:[Object(_.jsx)(b.b,{path:"/app",children:Object(_.jsx)(Pt,{})}),Object(_.jsx)(b.b,{path:"/",children:Object(_.jsx)(Kt,{})})]})})}var Yt=Object(n.memo)(Zt),Xt=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(_.jsx)(d.a,{children:Object(_.jsx)(Yt,{})})}}]),r}(n.Component),$t=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,306)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(Xt,{})}),document.getElementById("root")),$t()}},[[259,1,2]]]);
//# sourceMappingURL=main.d2673c61.chunk.js.map